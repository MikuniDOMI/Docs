# 启动游戏
:::danger

本库大部分方法都为异步，且需要管理员权限运行

:::
```csharp
  ///如果未切换到指定版本请先ChangeVersion
  bedrockCore.ChangeVersion(安装文件夹, InstallCallBack);
  ///启动游戏传入版本枚举
  bedrockCore.LaunchGame(VersionType.Preview);

```

# 函数列表

#### `ChangeVersion(string, InstallCallback)`
切换当前运行的游戏版本。

```csharp
public static bool ChangeVersion(string versionPath, InstallCallback callback)
```

| 参数 | 类型 | 说明 |
|------|------|------|
| `versionPath` | `string` | 游戏本体文件夹路径（绝对路径），需包含 `AppxManifest.xml` |
| `callback` | `InstallCallback` | 回调对象，用于接收进度 |

> **注意**：调用 `LaunchGame` 前应先调用此方法指定版本。

---

#### `LaunchGame(VersionType)`
启动游戏。

```csharp
public static bool LaunchGame(VersionType versionType)
```

| 参数 | 类型 | 说明 |
|------|------|------|
| `versionType` | `VersionType` | 要启动的版本类型 |

> **前提**：如需切换版本，请先调用 `ChangeVersion`。

---
### `InstallCallback`

用于监听安装过程中的进度与结果。

| 属性 | 类型 | 说明 |
|------|------|------|
| `CancellationToken` | `CancellationToken` | 取消操作的 Token |
| `downloadProgress` | `IProgress<DownloadProgress>` | 下载进度回调 |
| `registerProcess_percent` | `Action<float>` | 部署注册进度（0~100） |
| `result_callback` | `Action<bool, string>` | 安装结果回调（成功/失败 + 消息） |
| `install_states` | `Action<InstallStates>` | 安装状态变更通知 |

---